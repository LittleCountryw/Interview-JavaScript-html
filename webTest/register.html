<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>注册</title>

    <style>
      table,
      tr,
      td {
        border: 1px solid black;
        border-collapse: collapse;
      }
      table {
        width: 320px;
      }
      .label {
        width: 100px;
        background-color: #5f5f5f;
        color: #ffffff;
        font-size: 13px;
      }
      td {
        height: 18px;
        padding: 2px;
      }
      button {
        font-size: 13px;
        width: 100%;
      }
    </style>
    <script type="text/javascript" src="./js/jquery-3.1.1.min.js"></script>
  </head>
  <body>
    <table>
      <tr>
        <td class="label">账号</td>
        <td><input type="text" class="username" /></td>
      </tr>
      <tr>
        <td class="label">密码</td>
        <td><input type="password" class="userpwd" /></td>
      </tr>
      <tr>
        <td class="label">确认密码</td>
        <td><input type="password" class="checkedpassword" /></td>
      </tr>
      <tr>
        <td class="label">学号</td>
        <td><input type="text" class="stuno" /></td>
      </tr>
      <tr>
        <td class="label">姓名</td>
        <td><input type="text" class="stuname" /></td>
      </tr>
      <tr>
        <td class="label">电子邮件</td>
        <td><input type="text" class="email" /></td>
      </tr>
      <tr>
        <td class="label">联系电话</td>
        <td><input type="tel" class="phone" /></td>
      </tr>
      <tr>
        <td colspan="2">
          <button class="rigister">注册</button>
        </td>
      </tr>
    </table>
    <script>
      $(document).ready(function () {
        $('.rigister').click(function () {
          let username = $('.username').val()
          let userpwd = $('.userpwd').val()
          let checkedpassword = $('.checkedpassword').val()
          let stuno = $('.stuno').val()
          let stuname = $('.stuname').val()
          let email = $('.email').val()
          let phone = $('.phone').val()
          if (!username || !userpwd || !stuno || !email)
            alert('账号、密码、学号、邮箱必须输入')
          if (String(username).length < 6 || String(username).length > 15)
            alert('账号长度必须在6~15位之间')
          if (String(userpwd) !== String(checkedpassword))
            alert('两次密码输入必须相同')
          if (!/^[^@.]+@[^@.]+(\.[^@.]+){1,3}$/.test(email))
            alert('电子邮件格式不正确')

          $.post(
            'http://172.23.253.62:8345/exam/register',
            {
              username,
              userpwd,
              stuno,
              stuname,
              email,
              phone,
            },
            function (data) {
              alert('登录成功')
            }
          )
        })
      })
    </script>
  </body>
</html>
